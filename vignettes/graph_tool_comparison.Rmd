---
title: "graph_tool_comparison"
author: "Etienne CÃ´me"
date: "26 juin 2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Graph tool 


```{r}
library(reticulate)
use_python("/usr/local/bin/python")
```


```{python}
from graph_tool.all import *
import graph_tool.collection  as col
G=col.data["football"]
sol_gt=minimize_blockmodel_dl(G)
cl=[b for b in sol_gt.get_blocks()]
```


```{r}
py$cl+1
```

```{python}
G=load_graph("../data-raw/X20news.graphml")
sol_gt=minimize_blockmodel_dl(G)
cl=[b for b in sol_gt.get_blocks()]
```

```{r, cache=TRUE}
library(greed)
library(future)
plan(multiprocess)
load("../data-raw/X20news.rda")
data=greed:::preprocess(new("co_dcsbm"),X20news)
cl_gt=py$cl+1
sol_gt = greed:::fit_greed(new("dcsbm"),data,cl_gt,type="none")
sol_gt@icl
sol_gt@K
#sol=greed(Xvlegislature$X)
#sol@icl
#sol@K
#NMI(sol@cl,sol_gt@cl)
```

